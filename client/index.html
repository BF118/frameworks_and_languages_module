<!--https://scotch.io/courses/getting-started-with-vuejs/processing-a-form-with-vue-->
<!--https://redocly.github.io/redoc/?url=https://raw.githubusercontent.com/calaldees/frameworks_and_languages_module/main/openapi.yml#operation/addItem-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link id="favicon" rel="shortcut icon" type="image/png" href="data:image/png;base64,....==" />
    <title>Vue.js</title>
    <style>
.grid {
  display: grid;
  grid-template-columns: 100px 400px;
  grid-gap: 10px;
}



    </style>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<form>
  <label for ="create_user_id">Username</label>
  <input id ="create_user_id" type="text" name="user_id">
  <label for="create_lat">lat</label>
  <input id="create_lat" type="text" name="lat">
  <label for="create_lon">lon</label>
  <input id="create_lon" type="text" name="lon">
  <label id="create_keywords">keywords</label>
  <input for="create_keywords" type="text" name="keywords">
  <label for="create_description"> description</label>
  <input id="create_description"type="text" name="description">
  <!--label for="image">image</label-->
  <!--input id="image" type="text" name="image" value="http://placekitten.com/100/100"-->
  <input type="submit" id="action_create"data-action="create_item">
</form>


<script>

urlAPI = 'https://8000-sapphire-jaguar-8okm2lnn.ws-eu21.gitpod.io'
testItem = {
    user_id: "bob",
    lat: 1,
    lon: 1,
    keywords: "a, b, c",
    description: "a test item that is great",
}

let items = []

function getItems() {
    fetch(`${urlAPI}/items`, {
        method: 'GET',
    })
        .then(response => response.json())
        .then(json => {
            console.log("getItems", json)
            items = json  // save the json we got back into the variable `items`
        })
    .catch(err => console.error(err))
}

function createItem(data) {
    fetch(`${urlAPI}/item`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data),
    })
        .then(response => response.json())
        .then(json => console.log('createItems()', json))
    .catch(err => console.error(err));
}

function deleteItem(item_id) {
    fetch(`${urlAPI}/item/${item_id}`, {
        method: 'DELETE',
    })
        .then(json => console.log('deleteItem()', json))
    .catch(err => console.error(err));
}
Vue.createApp(FormData).mount('#counter')
//look up video for js for saving data to server
</script>

</body>
</html>